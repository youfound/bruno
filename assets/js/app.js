/*! Investorm v1.4.0 | Copyright by Softnio. */
!function(a,b){"use strict";function c(){let c=b(".ua-updp"),d=b(".qup-profile"),e=b(".clear-profile-log"),f=b(".form-profile"),g=b(".dark-switch");x.states(f),d.on("click",function(a){let c,d,e=b(this),f=e.data("key"),g=e.attr("name"),h=e.attr("type"),i=e.attr("href");i!==void 0&&a.preventDefault(),h===y&&(c=e.prop("checked")?"on":"off"),f&&(d=f+"_"+g),g&&profileSetting&&x.toPost(profileSetting,{profile_settings:{option:d,value:c}})}),e.on("click",function(c){let d=b(this).attr("href"),e=b(this).data("action"),f=!!(typeof msgs!=z&&typeof msgs.logs!=z&&msgs.logs)&&msgs.logs;d&&f?a.Ask(f.title,f.context,f.btn,"danger").then(function(a){a&&("ajax"==e?x.toPost(d,{}):window.location.href=d)}):a.Toast(A,"error",{ui:"is-dark"}),c.preventDefault()}),c.on("click",function(a){let c=b(this),d=c.closest(".form-profile");a.preventDefault(),d.valid()&&x.toSubmit(d,{btn:c,reload:!0})}),g.on("click",function(c){c.preventDefault();let d=b(this),e=d.hasClass("active")?"light":"dark";typeof upreference!=z&&upreference&&(a.ModeSwitch(d),x.toPost(upreference,{utheme:e}))})}function d(){let a=b("#update-email"),c=b("#email-confirm-msg"),d=b("#email-modal-tgl"),e=b(".email-rq-verify"),f="#confirm-email";a.on("click",function(){let a=b(this),e=a.closest("form.form-authentic"),g=a.closest(".modal");if(e.valid()){let h=e.serialize(),i=e.attr("action");a.prop("disabled",!0),x.toPost(i,h,{btn:a,onSuccess:function(a){e[0].reset(),g.modal("hide"),c.text(a.msg),d.attr("data-target",f),b(f).modal({show:!0,backdrop:"static"})}})}}),e.on("click",function(){let a=b(this),c=a.data("url"),d=a.data("action");if(d){let b={request_type:"cancel"===d?"cancel":"verification"};x.toPost(c,b,{btn:a,reload:!("cancel"!==d),after:function(){setTimeout(function(){x.button(a,!0,!1)},1e3)}})}});let g=b("#update-password"),h=b("#change-password-success");g.on("click",function(){let a=b(this),c=a.closest("form.form-authentic"),d=a.closest(".modal");if(c.valid()){let b=c.serialize(),e=c.attr("action");a.prop("disabled",!0),x.toPost(e,b,{btn:a,onSuccess:function(){c[0].reset(),d.modal("hide"),h.modal({show:!0})}})}})}function e(){let c="#axcon-pm";v.on("click","#proceed-dp",function(d){d.preventDefault();var e=b(this),f=e.closest("form"),h=f.find("#dpm-list"),i=f.find("input[name=deposit_amount]"),j=f.find("input[name=deposit_method]:checked").val();j?g(f,e,c):(h.addClass("border-danger"),a.Toast(f.data("required_msg"),"warning"))}),v.on("click","#continue-dp",function(a){a.preventDefault();let d=b(this),e=d.closest("form"),f=e.find("input[name=deposit_amount]"),h=parseFloat(f.val());h&&0<h?g(e,d,c):f.addClass("border-danger")}),v.on("click","#confim-py",function(a){a.preventDefault();let d=b(this),e=d.data("url");x.toForward(e,{confirm:!0},{btn:d,container:c})})}function f(){let c="#dp-amnt";v.on("click",".switch-currency",function(){let d=b(this),e=d.data("switch"),f=d.data("currency").toUpperCase();b("#"+e+"-currency-name").text(f),b("#"+e+"-currency").val(f),a.Helper.sw2c(d,f,{cfx:fxCur}),a.Helper.dfx(c,!1,{key:"dp",cfx:fxCur})}),v.on("input",".dp-amount",function(){let d=b(this),e=d.val(),f=!d.is(c),g=f?2:1;d.val(e.replace(/[^\d.]/g,"")),b("#dp-amnt-by").val(g),a.Helper.dfx(d,f,{key:"dp",cfx:fxCur})})}function g(a,b,c){let d=a.attr("action"),e=a.serialize();x.toForward(d,e,{btn:b,container:c,after:p("input[name=deposit_amount]")})}function h(){let c="#axcon-wd";v.on("click","#proceed-wd",function(d){d.preventDefault();var e=b(this),f=e.closest("form"),g=f.find("#olist-wd"),h=f.find("input[name=withdraw_method]:checked").val();h?k(f,e,c):(g.addClass("border-danger"),a.Toast(f.data("required_msg"),"warning"))}),v.on("click","#preact-wd",function(d){d.preventDefault();let e=b(this),f=e.closest("form"),g=f.find("input[name=wd_amount]"),h=parseFloat(g.val()),i=!0,j="";(!h||0>=h)&&(i=!1,j=reqMsg.required),!0===i?k(f,e,c):(g.addClass("border-danger"),a.Toast(j,"warning"))}),v.on("click","#confimwd",function(a){a.preventDefault();let d=b(this),e=d.data("url");x.toForward(e,{confirm:!0},{btn:d,container:c})})}function i(){let c="#wdm-amount-from";v.on("click",".wdm-change",function(){let d=b(this),e=d.data("currency").toUpperCase();typeof fxCur==z?a.Toast(A,"error",{ui:"is-dark"}):(b(".wdm-change").parent().removeClass("selected"),d.parent().addClass("selected"),a.Helper.sw2ac(d,e),a.Helper.wfx(c,!1,{key:"wdm",cfx:fxCur}))}),v.on("input",".wd-amount",function(){let d=b(this),e=d.val(),f=!d.is(c),g=f?2:1;d.val(e.replace(/[^\d.]/g,"")),b("#wdm-amount-by").val(g),a.Helper.wfx(d,f,{key:"wdm",cfx:fxCur})})}function j(){v.on("click",".wd-view-account",function(){let a=b(this),c=a.data("action"),d="#"+a.data("modal");x.toModal(c,[],{modal:d})}),v.on("click",".wd-new-account",function(){let a=b(this),c=a.data("action"),d="#"+a.data("modal");x.toModal(c,[],{modal:d})}),v.on("click","#svu-wd-account",function(){let a=b(this),c=a.closest("form"),d=a.closest(".modal"),e=c.attr("action"),f=c.serialize(),g=a.data("redirect");x.button(a,!1,!0),"yes"==g?x.toForward(e,f,{btn:a,container:"#axcon-wd",modal:d}):x.toPost(e,f,{btn:a,reload:!0})}),v.on("click","#delete-wd-account",function(){let c=b(this),d=c.data("url"),e=c.closest(".modal"),f=!!(typeof msgs!=z&&typeof msgs.wdm!=z&&msgs.wdm)&&msgs.wdm;d&&f?a.Ask(f.title,f.context,f.btn,"danger").then(function(a){a&&x.toPost(d,[],{reload:1e3,position:"bottom-center",hide:e})}):a.Toast(A,"error",{ui:"is-dark"})})}function k(a,b,c){let d=a.attr("action"),e=a.serialize();x.toForward(d,e,{btn:b,container:c,after:p("input.wd-amount")})}function l(){let a=b(".iv-payout");a.on("click",function(a){a.preventDefault();let c=b(this),d=c.attr("href");x.toModal(d,[],{modal:w})}),v.on("click",".iv-payout-proceed",function(){let a=b(this),c=a.parents("form"),d=c.attr("action"),e=c.serialize();d&&x.toPost(d,e,{btn:a,after:function(){setTimeout(function(){a.parents(".modal").modal("hide")},800)}})})}function m(){function c(a,c,d){x.toPost(a,c,{btn:b(d),reload:!0})}let d="#iv-ajmco";v.on("click",".iv-plnsw",function(){let c=b(this),d=c.data("plan"),e=c.data("uid"),f=c.data("change"),g=b("."+f+"-min"),h=b("."+f+"-max"),i=b("."+f+"-fixed"),j=b("."+f+"-lb-amount"),k=b("."+f+"-lb-fixed"),l=b("."+f+"-amount");if(typeof plans!=z&&typeof plans[e]!=z){b(".iv-plnsw").parent().removeClass("selected"),c.parent().addClass("selected"),b("#"+f).val(d),b("#"+f+"-scheme").html(c.html());let a=plans[e].min,m=plans[e].max,n=plans[e].amount,o=plans[e].fixed;1==o?(l.val(n).removeAttr("placeholder").attr("readonly",!0),h.add(g).add(h).add(j).addClass("hide"),i.add(k).removeClass("hide")):(l.attr("placeholder",n).removeAttr("readonly").val(""),h.add(g).add(h).add(j).removeClass("hide"),i.add(k).addClass("hide"),0==a?g.addClass("hide"):g.removeClass("hide").find(".amount").html(a),0==m?h.addClass("hide"):h.removeClass("hide").find(".amount").html(m))}else a.Toast(A,"error",{ui:"is-dark"})}),v.on("click",".iv-plngs",function(a){a.preventDefault();let c=b(this),e=c.parents("form"),f=e.attr("action"),g=e.serialize();x.toForward(f,g,{btn:c,container:d})}),v.on("click",".iv-plnin",function(c){c.preventDefault(),typeof routes.confirm==z?a.Toast(A,"error",{ui:"is-dark"}):x.toPost(routes.confirm,{action:"confirm"},{btn:b(this),onSuccess:function(a){b(d).html(a)}})}),v.on("click",".iv-plnot",function(d){d.preventDefault();let e=b(this),f=e.data("action"),g=e.data("confirm");typeof routes[f]==z?a.Toast(A,"error",{ui:"is-dark"}):g&&typeof msgs[f]!=z&&msgs[f]?a.Ask(msgs[f].title,msgs[f].context,msgs[f].btn,msgs[f].custom,msgs[f].type).then(function(a){a&&c(routes[f],{action:"cancel"},e)}):c(routes[f],{action:"cancel"},e)})}function n(){let a=b(".pagination-dropdown");a.on("change",function(){window.location.href=b(this).val()})}function o(){let c=b(".update-meta a");c.on("click",function(c){let d=b(this),e=d.data("meta"),f=d.data("value"),g=d.data("type"),h=d.data("update"),i=!(h&&"silent"==h)&&500,j=!d.parent().hasClass("active");if(e&&f&&updateSetting&&j){x.toPost(updateSetting,{meta:e,value:f,type:g},{onSuccess:function(b){"warning"===b.type?a.Toast(b.msg,b.type):(i&&setTimeout(function(){window.location.reload()},i),console.log(b))}})}c.preventDefault()})}function p(a){v.on("input",a,function(){let a=b(this).val();b(this).val(a.replace(/[^\d.]/g,""))})}function q(){let c=b(".cookie-banner"),d=c.find(".btn");d.on("click",function(d){d.preventDefault();let e=typeof consentURI!=z&&consentURI,f={consent:b(this).data("consent")};e&&f&&x.toPost(e,f,{onSuccess:function(b){"success"==b.status?c.remove():b.message&&a.Toast(b.message,"error")}})})}function r(){v.on("click",".tnx-details",function(){let a=b(this),c={id:a.data("tnx")};x.toModal(getTnxDetails,c,{modal:w,backdrop:!0})}),v.on("click","#make-paypal-payment",function(){let a=b(this),c={id:a.data("tnx")},d=a.data("url");d&&x.toPost(d,c,{btn:a,onSuccess:function(a){a.redirect&&(window.location.href=a.approve_url.href)}})})}function s(){let a=b(".ajax-submit");a.on("click",function(a){let c=b(this),d=c.parents("form"),e=d.attr("action"),f=d.serialize();e&&f&&x.toPost(e,f,{btn:c}),a.preventDefault()})}function t(){let a=b(".submit-form");a.on("click",function(c){c.preventDefault();let d=b(this).parents("form");d.valid()&&(x.button(a,!1,!0),x.toSubmit(d,{btn:a}))})}function u(){let c=b(".validate-username"),d=null;c.on("input",function(){let c=b(this),e=typeof routes!=z&&routes,f=c.val(),g=c.parent("div").find(".validate-username-loader"),h=c.parent("div").find(".validate-username-error");d&&clearTimeout(d),g.removeClass("hide"),h.addClass("hide"),e.validate?d=setTimeout(function(){x.toPost(e.validate,{username:f},{onSuccess:function(a){g.addClass("hide"),h.removeClass("hide"),a.note&&h.attr("data-original-title",a.note),a.error?h.removeClass("ni-check").addClass("ni-alert"):h.removeClass("ni-alert").addClass("ni-check")}})},300):a.Toast(A,"error",{ui:"is-dark"})})}let v=b(document),w=b("#ajax-modal"),x=a.Form,y="checkbox",z="undefined",A="Something is wrong or may invalid action.";b.ajaxSetup({headers:{"X-CSRF-TOKEN":b("meta[name=\"csrf-token\"]").attr("content")}}),v.ready(function(){u(),t(),q(),s(),e(),f(),h(),i(),j(),r(),c(),d(),o(),n(),m(),l()})}(NioApp,jQuery);
